## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### è®¾è®¡ç†å¿µï¼šåƒç®¡ç†çœŸå®å›¢é˜Ÿä¸€æ ·ç®¡ç† AI

è¿™ä¸ªç³»ç»Ÿçš„è®¾è®¡çµæ„Ÿæ¥è‡ªäºè½¯ä»¶å…¬å¸çš„çœŸå®å·¥ä½œæµç¨‹ï¼š

```
WorkflowEngine (é¡¹ç›®ç»ç†)
   â†“ åè°ƒ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5 ä¸ªå·¥ä½œé˜¶æ®µï¼ˆStageï¼‰               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. éœ€æ±‚åˆ†æ  â†’ Architect       â”‚ â”‚
â”‚ â”‚ 2. æ¶æ„è®¾è®¡  â†’ Architect       â”‚ â”‚
â”‚ â”‚ 3. ä»£ç å®ç°  â†’ Developer       â”‚ â”‚
â”‚ â”‚ 4. æµ‹è¯•éªŒè¯  â†’ QA + Developer  â”‚ â”‚
â”‚ â”‚ 5. æ‰“åŒ…å‘å¸ƒ  â†’ QA              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“ é©±åŠ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3 ä¸ª AI Agentï¼ˆå‘˜å·¥ï¼‰              â”‚
â”‚                                     â”‚
â”‚ ğŸ§  Architect (æ¸©åº¦ 0.7)            â”‚
â”‚    - å‘æ•£æ€ç»´ï¼Œåˆ›é€ æ€§è®¾è®¡           â”‚
â”‚    - ç«¯å£ 11434                    â”‚
â”‚                                     â”‚
â”‚ ğŸ’» Developer (æ¸©åº¦ 0.3)            â”‚
â”‚    - ä¸¥è°¨ç²¾ç¡®ï¼Œç¡®å®šæ€§ç¼–ç            â”‚
â”‚    - ç«¯å£ 11435                    â”‚
â”‚                                     â”‚
â”‚ ğŸ” QA Engineer (æ¸©åº¦ 0.5)          â”‚
â”‚    - å¹³è¡¡æ¨¡å¼ï¼Œæµ‹è¯•å’Œåˆ†æ           â”‚
â”‚    - ç«¯å£ 11436                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®åˆ›æ–°ï¼šæ™ºèƒ½é”™è¯¯åˆ†æ

ä¼ ç»Ÿè‡ªåŠ¨åŒ–ç³»ç»Ÿçš„é—®é¢˜ï¼š
```
æµ‹è¯•å¤±è´¥ â†’ é‡æ–°ç”Ÿæˆä»£ç  â†’ åˆå¤±è´¥ â†’ å†é‡æ–°ç”Ÿæˆ â†’ è¿˜æ˜¯å¤±è´¥ â†’ ğŸ’€
```

æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼š
```
æµ‹è¯•å¤±è´¥
   â†“
QA ç”¨ LLM åˆ†æï¼š
   "è¿™æ˜¯ä¸€ä¸ªè¯­æ³•é”™è¯¯ï¼Œåœ¨ test_app.py ç¬¬ 15 è¡Œï¼Œ
    åŸå› æ˜¯ bytes å­—é¢é‡ä¸æ”¯æŒä¸­æ–‡å­—ç¬¦ï¼Œ
    å»ºè®®æ”¹ç”¨ response.data.decode('utf-8')"
   â†“
Developer æ ¹æ®è¯¦ç»†åˆ†æä¿®å¤ï¼ˆè€Œä¸æ˜¯ççŒœï¼‰
   â†“
æµ‹è¯•é€šè¿‡ âœ…
```

### æŠ€æœ¯äº®ç‚¹

1. **æ¥å£é©±åŠ¨è®¾è®¡**ï¼ˆ`src/core/interfaces.py`ï¼‰
   - 7 ä¸ªæ ¸å¿ƒæ¥å£ï¼š`IStage`, `IAgent`, `IAnalyzer`, `IReporter`...
   - æƒ³åŠ æ–°åŠŸèƒ½ï¼Ÿå®ç°æ¥å£å³å¯ï¼Œæ— éœ€æ”¹æ ¸å¿ƒä»£ç 

2. **ç­–ç•¥æ¨¡å¼åˆ†å‘**ï¼ˆ`src/agents/base_agent.py`ï¼‰
   ```python
   async def process(self, input_data):
       action = input_data['action']  # 'implement', 'test', 'fix'...
       handler = self._get_action_handler(action)
       return await handler(input_data)
   ```

3. **åŠ¨æ€æŒ‡ä»¤æ³¨å…¥**ï¼ˆé¢„ç•™äººå·¥ä»‹å…¥ï¼‰
   ```python
   # æƒ³è±¡ä¸€ä¸‹ï¼šæµ‹è¯•å¤±è´¥ç¬¬ 3 æ¬¡äº†ï¼Œä½ æƒ³ç»™ Developer ä¸€ä¸ªæç¤º
   developer.inject_instruction("æ³¨æ„å¤„ç†é™¤é›¶é”™è¯¯")
   # ä¸‹æ¬¡ Developer å·¥ä½œæ—¶ä¼šçœ‹åˆ°è¿™ä¸ªæŒ‡ä»¤
   ```

4. **Debug æ¨¡å¼çš„ç§˜å¯†æ­¦å™¨**
   ```yaml
   # config.yaml
   workflow:
     max_iterations: 3  # æ™®é€šæ¨¡å¼ï¼šæœ€å¤šé‡è¯• 3 æ¬¡

   # --debug å‚æ•°
   max_iterations: âˆ   # Debug æ¨¡å¼ï¼šæ— é™é‡è¯•ï¼Œç›´åˆ°æˆåŠŸï¼
   ```

## ğŸ“– ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šå¿«é€ŸåŸå‹ï¼ˆ5åˆ†é’Ÿå‡º MVPï¼‰

```bash
python -m src.main -r "åˆ›å»ºä¸€ä¸ª TODO åˆ—è¡¨ CLI å·¥å…·ï¼Œæ”¯æŒå¢åˆ æ”¹æŸ¥"
```

**3 åˆ†é’Ÿå**ï¼š
- âœ… å®Œæ•´çš„ Python ä»£ç 
- âœ… å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–ç‡ 80%+ï¼‰
- âœ… å¯è¿è¡Œçš„ zip åŒ…
- âœ… README æ–‡æ¡£

### åœºæ™¯ 2ï¼šå­¦ä¹ æœ€ä½³å®è·µ

æƒ³å­¦ä¹ å¦‚ä½•å†™æŸä¸ªåŠŸèƒ½ï¼Ÿè®© AI å›¢é˜Ÿå…ˆåšä¸€éï¼š

```bash
python -m src.main -r "åˆ›å»ºä¸€ä¸ª Flask APIï¼Œä½¿ç”¨ JWT è®¤è¯å’Œ SQLAlchemy ORM"
```

æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç ï¼Œå­¦ä¹ æ¶æ„è®¾è®¡å’Œä»£ç ç»„ç»‡æ–¹å¼ã€‚

### åœºæ™¯ 3ï¼šDebug æ¨¡å¼ç ´è§£éš¾é¢˜

é‡åˆ° AI æ€»æ˜¯å†™ä¸å¯¹çš„éœ€æ±‚ï¼Ÿ

```bash
python -m src.main -r "å®ç°è¾›æ™®æ£®ç§¯åˆ†æ³•è®¡ç®—å®šç§¯åˆ†" --debug
```

**æ•ˆæœ**ï¼š
- ç¬¬ 1 æ¬¡ï¼šè¯­æ³•é”™è¯¯ â†’ QA åˆ†æ â†’ Developer ä¿®å¤
- ç¬¬ 2 æ¬¡ï¼šé€»è¾‘é”™è¯¯ â†’ QA åˆ†æ â†’ Developer ä¿®å¤
- ç¬¬ 3 æ¬¡ï¼šè¾¹ç•Œæƒ…å†µ â†’ QA åˆ†æ â†’ Developer ä¿®å¤
- ç¬¬ 4 æ¬¡ï¼šé€šè¿‡ï¼ âœ…

ä¸é™åˆ¶æ¬¡æ•°ï¼Œæ€»èƒ½æå®šã€‚

## ğŸ¨ é…ç½®è°ƒä¼˜

### config.yaml æ ¸å¿ƒå‚æ•°è§£æ

```yaml
ollama:
  architect:
    temperature: 0.7  # ğŸ¨ åˆ›é€ åŠ›ï¼šé«˜
                      # è®¾è®¡æ¶æ„éœ€è¦å‘æ•£æ€ç»´

  developer:
    temperature: 0.3  # ğŸ¯ ç²¾ç¡®åº¦ï¼šé«˜
                      # å†™ä»£ç è¦ä¸¥è°¨ï¼Œå°‘çŠ¯é”™

  qa:
    temperature: 0.5  # âš–ï¸ å¹³è¡¡
                      # æµ‹è¯•æ—¢è¦ä¸¥æ ¼ä¹Ÿè¦çµæ´»

workflow:
  max_iterations: 3   # ğŸ”„ é‡è¯•æ¬¡æ•°
                      # å»ºè®®ï¼šç®€å•éœ€æ±‚ 3 æ¬¡ï¼Œå¤æ‚éœ€æ±‚ç”¨ --debug

project:
  workspace: "./workspace"  # ğŸ“ å·¥ä½œåŒº
                            # æ‰€æœ‰ç”Ÿæˆæ–‡ä»¶çš„å®¶
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

**ç¡¬ä»¶è¦æ±‚**ï¼š
- æœ€ä½ï¼š16GB RAMï¼ˆèƒ½è·‘ï¼Œä½†å¯èƒ½æœ‰ç‚¹æ…¢ï¼‰
- æ¨èï¼š24GB RAMï¼ˆM4 MacBook Airï¼Œæµç•…ï¼‰
- ç†æƒ³ï¼š32GB+ RAMï¼ˆå¤šä»»åŠ¡æ— å‹åŠ›ï¼‰

**é€Ÿåº¦ä¼˜åŒ–**ï¼š
```bash
# é¢„åŠ è½½æ¨¡å‹ï¼ˆsetup_ollama.sh å·²è‡ªåŠ¨æ‰§è¡Œï¼‰
# keep_alive=-1 è¡¨ç¤ºæ¨¡å‹å¸¸é©»å†…å­˜ï¼Œå“åº”æ›´å¿«
curl http://localhost:11434/api/generate \
  -d '{"model":"qwen2.5:3b","keep_alive":-1,"prompt":"hello"}'
```

## ğŸ”§ é«˜çº§æ‰©å±•

### æ·»åŠ æ–°çš„å·¥ä½œé˜¶æ®µ

æƒ³åœ¨ä»£ç å®ç°ååŠ ä¸€ä¸ªä»£ç å®¡æŸ¥é˜¶æ®µï¼Ÿ

```python
# 1. åˆ›å»º src/stages/code_review.py
from src.core.interfaces import IStage, StageResult, StageStatus

class CodeReviewStage(IStage):
    @property
    def name(self) -> str:
        return "code_review"

    async def execute(self, context):
        architect = context.get_agent('architect')

        # Architect å®¡æŸ¥ Developer çš„ä»£ç 
        review_result = await architect.process({
            'action': 'review_code',
            'code_files': context.memory.list_files('code')
        })

        return StageResult(
            status=StageStatus.SUCCESS,
            output=review_result
        )

# 2. åœ¨ src/builders/workflow_builder.py æ³¨å†Œ
stages = [
    RequirementAnalysisStage(),
    ArchitectureDesignStage(),
    CodingStage(),
    CodeReviewStage(),      # ğŸ‘ˆ æ–°å¢
    TestingStage(...),
    PackagingStage()
]
```

### æ·»åŠ æ–°çš„ Agent èƒ½åŠ›

ç»™ Developer å¢åŠ ä»£ç é‡æ„èƒ½åŠ›ï¼š

```python
# src/agents/developer.py
class DeveloperAgent(BaseAgent):
    def _get_action_handler(self, action):
        return {
            'implement': self._implement,
            'write_tests': self._write_tests,
            'fix_issues': self._fix_issues,
            'refactor': self._refactor  # ğŸ‘ˆ æ–°å¢
        }.get(action)

    async def _refactor(self, input_data):
        code_file = input_data['code_file']
        refactor_goal = input_data['goal']  # "æé«˜å¯è¯»æ€§" / "ä¼˜åŒ–æ€§èƒ½"

        prompt = f"""
        é‡æ„ä»¥ä¸‹ä»£ç ï¼Œç›®æ ‡ï¼š{refactor_goal}

        åŸå§‹ä»£ç ï¼š
        {code_file}

        è¯·æä¾›é‡æ„åçš„ä»£ç ...
        """

        response = await self.chat(prompt)
        return {'refactored_code': response}
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: "Ollama è¿æ¥å¤±è´¥"

**åŸå› **ï¼š`setup_ollama.sh` æ²¡æœ‰è¿è¡Œæˆ–è¿›ç¨‹è¢«æ€æ­»ã€‚

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep ollama

# å¦‚æœæ²¡æœ‰ï¼Œé‡æ–°å¯åŠ¨
bash scripts/setup_ollama.sh
```

### Q2: "æµ‹è¯•ä¸€ç›´å¤±è´¥ï¼Œé‡è¯• 3 æ¬¡éƒ½ä¸è¡Œ"

**åŸå› **ï¼šéœ€æ±‚å¤ªå¤æ‚ï¼Œæˆ–æ¨¡å‹èƒ½åŠ›æœ‰é™ã€‚

**è§£å†³**ï¼š
```bash
# å¼€å¯ Debug æ¨¡å¼ï¼Œæ— é™é‡è¯•
python -m src.main -r "ä½ çš„éœ€æ±‚" --debug

# æˆ–è€…ï¼Œç®€åŒ–éœ€æ±‚ï¼Œåˆ†æ­¥éª¤å®ç°
```

### Q3: "ç”Ÿæˆçš„ä»£ç è´¨é‡ä¸é«˜"

**é™åˆ¶è®¤çŸ¥**ï¼šqwen2.5:3b æ˜¯ 30 äº¿å‚æ•°çš„å°æ¨¡å‹ï¼Œèƒ½åŠ›æœ‰é™ã€‚

**æ”¹è¿›æ–¹å‘**ï¼š
- æ¢æ›´å¤§çš„æ¨¡å‹ï¼ˆå¦‚ qwen2.5:14bï¼Œéœ€è¦æ›´å¤šå†…å­˜ï¼‰
- æä¾›æ›´è¯¦ç»†çš„éœ€æ±‚æè¿°
- ä½¿ç”¨ Debug æ¨¡å¼å¤šè¿­ä»£å‡ æ¬¡
- ç”Ÿæˆåäººå·¥ review å’Œä¼˜åŒ–

### Q4: "æƒ³çœ‹ AI çš„æ€è€ƒè¿‡ç¨‹"

**æ–¹æ³• 1**ï¼šWeb UI æ˜¾ç¤ºå®æ—¶æ—¥å¿—

**æ–¹æ³• 2**ï¼šæŸ¥çœ‹å¯¹è¯å†å²
```python
# åœ¨ä»£ç ä¸­æ·»åŠ 
print(agent.conversation_history)
```

### Q5: "å¦‚ä½•åœæ­¢è¿è¡Œä¸­çš„ä»»åŠ¡ï¼Ÿ"

**CLI æ¨¡å¼**ï¼š`Ctrl+C`

**Web UI æ¨¡å¼**ï¼šå…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µï¼Œç„¶åï¼š
```bash
pkill -f "python -m src.main"
```

**åœæ­¢ Ollama**ï¼š
```bash
pkill ollama
```

## ğŸ“Š ç³»ç»Ÿé™åˆ¶ä¸æœªæ¥è®¡åˆ’

### å½“å‰é™åˆ¶

- ğŸ¯ **æ¨¡å‹èƒ½åŠ›**ï¼šqwen2.5:3b é€‚åˆç®€å•åˆ°ä¸­ç­‰å¤æ‚åº¦çš„éœ€æ±‚
- ğŸ **è¯­è¨€æ”¯æŒ**ï¼šç›®å‰ä¸»è¦æ”¯æŒ Python é¡¹ç›®ï¼ˆæµ‹è¯•å’Œæ‰§è¡ŒåŸºäº Pythonï¼‰
- ğŸ’» **èµ„æºæ¶ˆè€—**ï¼š3 ä¸ª Ollama å®ä¾‹åŒæ—¶è¿è¡Œï¼Œéœ€è¦ 16GB+ å†…å­˜
- ğŸ‘€ **ä»£ç å®¡æŸ¥**ï¼šç”Ÿæˆçš„ä»£ç éœ€è¦äººå·¥ review åå†ç”¨äºç”Ÿäº§ç¯å¢ƒ

### æœªæ¥è®¡åˆ’

- [ ] **å¤šè¯­è¨€æ”¯æŒ**ï¼šJavaScriptã€Goã€Java é¡¹ç›®ç”Ÿæˆ
- [ ] **æ›´å¤§æ¨¡å‹**ï¼šæ”¯æŒ qwen2.5:14b / qwen2.5:32b
- [ ] **äººå·¥ä»‹å…¥ UI**ï¼šWeb ç•Œé¢å®æ—¶æ³¨å…¥æŒ‡ä»¤ç»™ Agent
- [ ] **Git é›†æˆ**ï¼šè‡ªåŠ¨åˆ›å»ºåˆ†æ”¯ã€æäº¤ä»£ç ã€å‘ PR
- [ ] **CI/CD é›†æˆ**ï¼šç”Ÿæˆ GitHub Actions / GitLab CI é…ç½®
- [ ] **Docker åŒ–éƒ¨ç½²**ï¼šä¸€é”®å¯åŠ¨æ•´ä¸ªç³»ç»Ÿ

## ğŸ™ è‡´è°¢

- **Ollama** - è®©æœ¬åœ° LLM è¿è¡Œå˜å¾—ç®€å•
- **Qwen2.5** - å¼ºå¤§çš„å¼€æºä¸­æ–‡æ¨¡å‹
- **Streamlit** - å¿«é€Ÿæ„å»º Web UI

## ğŸ“œ å¼€æºåè®®

MIT License - éšæ„ä½¿ç”¨ï¼Œä½†åæœè‡ªè´Ÿ ğŸ˜„

---

**ç°åœ¨ï¼Œå¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ª AI åä½œé¡¹ç›®å§ï¼**

```bash
# å¯åŠ¨ AI å›¢é˜Ÿ
bash scripts/setup_ollama.sh

# å‘å¸ƒç¬¬ä¸€ä¸ªä»»åŠ¡
python -m src.main -r "åˆ›å»ºä¸€ä¸ªå‘½ä»¤è¡Œè®¡ç®—å™¨"

# è§è¯å¥‡è¿¹ âœ¨
```
